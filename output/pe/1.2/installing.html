<!DOCTYPE html>
<html dir="ltr" lang="en-US">
  <head>
  	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  	<title>Documentation | Puppet Labs - PE 1.2 Manual: Installing Puppet Enterprise</title>
  	<meta name="description" content="The open source leader in data center automation">
  	<link rel="alternate" type="text/xml" title="Puppet Labs RSS 0.92 Feed" href="http://puppetlabs.com/feed/rss/">
  	<link rel="alternate" type="application/atom+xml" title="Puppet Labs Atom Feed" href="http://puppetlabs.com/feed/atom/">
  	<link rel="alternate" type="application/rss+xml" title="Puppet Labs RSS 2.0 Feed" href="http://puppetlabs.com/feed/">
  	<link rel="pingback" href="http://puppetlabs.com/xmlrpc.php">
    <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://puppetlabs.com/xmlrpc.php?rsd" />
    <link rel='index' title='Puppet Labs' href='http://docs.puppetlabs.com' />

<!-- Google stats -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-1537572-5");
pageTracker._setDomainName(".puppetlabs.com");
pageTracker._trackPageview();
} catch(err) {}</script>
<!-- End Google stats -->


    <!-- FIXME: absolute paths -->

    <script type='text/javascript' src='/files/javascripts/html5.js'></script>
    <script type='text/javascript' src='/files/javascripts/jquery-1.3.2.min.js'></script>
    <script type='text/javascript' src='/files/javascripts/drop_down.js'></script>
    <script type='text/javascript' src='/files/javascripts/cufon-yui.js'></script>
    <script type='text/javascript' src='/files/fonts/Klavika_400-Klavika_600.font.js'></script>
    <script type='text/javascript' src='/files/javascripts/ampersands.js'></script>

     <!--Add rotation jQuery Script -->
	 	
    <script type='text/javascript' src='/files/javascripts/addRotate.js'></script>

    <!-- All in One SEO Pack 1.6.10.1 by Michael Torbert of Semper Fi Web Design[127,146] -->
    <meta name="keywords" content="Puppet, puppet labs, reductive labs, open source, system administrator, ruby, data center, automation, support" />
    <link rel="canonical" href="http://docs.puppetlabs.com" />
    <!-- /all in one seo pack -->
	
    <!-- FIXME: absolute paths -->

    <link rel="stylesheet" type="text/css" href="/files/stylesheets/style.css" media="screen"> 
    <link rel="stylesheet" type="text/css" href="/files/stylesheets/syntax.css" media="screen"> <!-- index -->
    <link rel="stylesheet" type="text/css" href="/files/stylesheets/adbanner.css" media="screen">

    <!--[if IE 7]>
	  <link rel="stylesheet" type="text/css" href="/files/stylesheets/ie_7.css" media="screen"> <!-- index -->
    <![endif]-->
  
    <!--[if IE 8]>
	    <link rel="stylesheet" type="text/css" href="/files/stylesheets/ie_8.css" media="screen"> <!-- index -->
    <![endif]-->		

  	<script type="text/javascript">
      Cufon.replace('h1, h2', { fontWeight: '600' });
  	</script>
</head>



        
  <body id="puppetlabsdocs" class="docs">
  <style type="text/css">h1, h2{ visibility : hidden }</style>		
  <!--[if IE 8]>
    <style type="text/css">h1, h2{ visibility : visible }</style>
  <![endif]-->		

  	<header id="header">
      <div class="site-width">
    		<h1><a href="http://puppetlabs.com/"><span>Puppet Labs</span></a></h1>
        <a class="screen-reader-content" href="#content">Skip navigation</a>
        <nav>
    		<ul id="global-navigation">
          <li id="puppet-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/puppet/">
              <span>Products</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>            
              <li>
                <ul>
<li class="page_item page-item-769"><a href="http://www.puppetlabs.com/puppet/puppet-enterprise/" title="Puppet Enterprise">Puppet Enterprise</a></li>
<li class="page_item page-item-757"><a href="http://www.puppetlabs.com/puppet/introduction/" title="Puppet">Puppet</a></li>
<li class="page_item page-item-956"><a href="http://www.puppetlabs.com/puppet/how-to-buy/" title="How to Buy">How to Buy</a></li>
<li class="page_item page-item-1159"><a href="http://forge.puppetlabs.com/" title="Module Forge">Module Forge</a></li>

<li class="page_item page-item-2415"><a href="http://www.puppetlabs.com/mcollective/introduction/" title="MCollective">MCollective</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="services-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/services/">
              <span>Services</span>
              <span class="drop-down-trigger"></span>

            </a>
            <ul>
              <li class="page_item page-item-783"><a href="http://www.puppetlabs.com/services/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-839"><a href="http://www.puppetlabs.com/services/support/" title="Enterprise Support">Enterprise Support</a></li>
<li class="page_item page-item-845"><a href="http://www.puppetlabs.com/services/training-workshops/" title="On-Site Training &amp; Consulting">On-Site Training &amp; Consulting</a></li>
<li class="page_item page-item-849"><a href="/category/events/upcoming/" title="Events &amp; Public Training">Events &amp; Public Training</a></li>
<li class="page_item page-item-851"><a href="http://www.puppetlabs.com/services/partners/" title="Partners">Partners</a></li>
<li class="page_item page-item-1037"><a href="/resources/customer-support" title="Customer Support">Customer Support</a></li>
            </ul>
          </li>
          <li id="resources-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/resources/">
              <span>Resources</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://www.puppetlabs.com/resources/overview-2/" title="Overview">Overview</a></li>
<li class="page_item page-item-1052"><a href="http://www.puppetlabs.com/resources/customer-support/" title="Customer Support">Customer Support</a></li>
<li class="page_item page-item-1040"><a href="http://docs.puppetlabs.com" title="Documentation">Documentation</a></li>
<li class="page_item page-item-872"><a href="http://info.puppetlabs.com/register-download" title="Downloads">Downloads</a></li>
<li class="page_item page-item-1961"><a href="http://forge.puppetlabs.com" title="Module Forge">Module Forge</a></li>
<li class="page_item page-item-835"><a href="http://info.puppetlabs.com/request-whitepapers.html" title="White Papers">White Papers</a></li>
<li class="page_item page-item-1967"><a href="http://projects.puppetlabs.com/projects/puppet/wiki" title="Wiki">Wiki</a></li>
            </ul>

          </li>

<li id="customer-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/customers/companies/">
              <span>Customers</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://www.puppetlabs.com/customers/companies/" title="Overview">Companies</a></li>
<li class="page_item page-item-1052"><a href="http://www.puppetlabs.com/customers/case-studies/" title="Case Studies">Case Studies</a></li>
<li class="page_item page-item-1040"><a href="http://www.puppetlabs.com/customers/product-testimonials/" title="Product Testimonials">Product Testimonials</a></li>
<li class="page_item page-item-872"><a href="http://www.puppetlabs.com/customers/what-customers-are-saying/" title="ervice Testimonials">Service Testimonials</a></li>
	</ul>
          </li>
         <li id="community-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/community/">
              <span>Community</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-2195"><a href="http://www.puppetlabs.com/community/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-2195"><a href="http://www.puppetlabs.com/blog" title="Blog">Blog</a></li>
<li class="page_item page-item-2264"><a href="http://www.puppetlabs.com/community/puppet-camp/" title="Puppet Camp">Puppet Camp</a></li>
<li class="page_item page-item-2249"><a href="http://www.puppetlabs.com/community/user-groups-and-devops-groups/" title="User Groups &amp; DevOps Groups">User Groups &amp; DevOps Groups</a></li>
<li class="page_item page-item-2215"><a href="http://www.puppetlabs.com/community/presentations/" title="Presentations">Presentations</a></li>

<li class="page_item page-item-2217"><a href="http://www.puppetlabs.com/community/videos/" title="Videos">Videos</a></li>
<li class="page_item page-item-2217"><a href="http://www.puppetlabs.com/community/badges/" title="Badges">Badges</a></li>
            </ul>
          </li>

          <li id="company-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/company/">
              <span>Company</span>
              <span class="drop-down-trigger"></span>
            </a>

            <ul>
              <li class="page_item page-item-2316"><a href="http://www.puppetlabs.com/company/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-2179"><a href="http://www.puppetlabs.com/company/news/" title="News">News</a></li>
<li class="page_item page-item-1571"><a href="http://www.puppetlabs.com/company/jobs/" title="Jobs">Jobs</a></li>
<li class="page_item page-item-2313"><a href="http://www.puppetlabs.com/company/contact-us/" title="Contact Us">Contact Us</a></li>
            </ul>
          </li>
    		</ul>	   
          <div id="misc-navigation">

			  <ul>
				<li><a href="http://docs.puppetlabs.com">Documentation</a></li>
				<li><a href="http://puppetlabs.com/resources/customer-support/">Support</a></li>
				<li><a href="http://projects.puppetlabs.com/">Bug Tracker</a></li>
				<li><a href="http://puppetlabs.com/company/#contact">Contact Us</a></li>
				<li><a href="http://puppetlabs.com/resources/downloads" class="gateway">Download</a></li>
			  </ul>
			<form action="http://www.google.com/cse" id="cse-search-box">

			  <div>
				<input type="hidden" name="cx" value="017884045025332504017:1mnj-dlgfcc" />
				<input type="hidden" name="ie" value="UTF-8" />
				<input type="text" name="q" size="31" />
				<input type="submit" name="sa" class="searchbtn" value="Search" />
			  </div>
			</form>
			<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en"></script>

          </div>
      </nav>
    	</div>
    </header>  

      <section id="masthead">
        <div class="site-width">
          <h1>Docs: <span class="section-name">PE 1.2 Manual: Installing Puppet Enterprise</span></h1>
          <ul id="doc-navigation">
            <li><a href="/">Docs Home</a></li>
            <li class="with-submenu">
              <a href="#">
                <span>Quick Nav</span>
                <span class="drop-down-trigger"></span>
              </a>
               <!-- the following links can't be relative, unfortunately -->
               <!-- future: add some JS to disable this if running from file:// -->
               	            <dl>
	              <dt>Puppet Guides</dt>
                      <dd><a href="/index.html">Index</a></dd>
                  <dt>Puppet References</dt>
                      <dd><a href="/references/stable/type.html">Resource Types</a></dd>
                      <dd><a href="/references/stable/function.html">Functions</a></dd>
                      <dd><a href="/references/stable/metaparameter.html">Metaparameters</a></dd>
                      <dd><a href="/references/stable/configuration.html">Configuration</a></dd>
                      <dt>References By Version</dt>
                      <dd><a href="/references/2.7.3/">2.7.3</a></dd>
                      <dd><a href="/references/2.6.9/">2.6.9</a></dd>
                      <dd><a href="/references/0.25.5/">0.25.5</a></dd>
                      <dd><a href="/references/0.24.8/">0.24.8</a></dd>
                      <dd><a href="/references/">Other Versions</a></dd>
                  <dt>MCollective</dt>
                      <dd><a href="/mcollective/index.html">Index</a></dd>
                      <dd><a href="/mcollective/simplerpc/index.html">SimpleRPC</a></dd>
                      <dd><a href="/mcollective/roadmap/index.html">Roadmap</a></dd>
                      <dd><a href="/mcollective/releasenotes.html">Release Notes</a></dd>
                      <dd><a href="/mcollective/reference/index.html">References</a></dd>
	            </dl>

            </li>
            <li><a href="/contribute.html">Contribute</a></li>
          </ul>
        </div>
      </section>
    
      <section id="content">
        <div class="site-width">
          <div class="primary-secondary-content">
            <div class="primary-content">
              <!-- 
#### Navigation

- [Introduction](./intro.html)
- [Overview](./overview.html)
- [Installing](./installing.html)
- [Upgrading](./upgrading.html)
- [Using Puppet Enterprise](./using.html)
- The Accounts Module
    - [The `accounts::user` Type](./accounts_user_type.html)
    - [The `accounts` Class](./accounts_class.html)
- Puppet Compliance
    - [Puppet Compliance Basics and UI](./compliance_basics.html)
    - [Using the Puppet Compliance Workflow](./using_compliance.html)
    - [Compliance Workflow Tutorial](./compliance_tutorial.html)
- [Known Issues](./known_issues.html)
- [Troubleshooting](./troubleshooting.html)
- [Answer File Reference](./answer_file_reference.html)

find:
(?<=^<li>)(<a href="\./([\w_]+\.html)">(.+?)</a>)(?=</li>)
replace:
\1

Alternately, if we're keeping the output as markdown: 
find:
^(\s*- )(\[([^\]]+)\]\(\./([\w_]+\.html)\))
replace:
\1\2
 -->

<h4>Navigation</h4>

<ul>
<li><a href="./intro.html">Introduction</a></li>
<li><a href="./overview.html">Overview</a></li>
<li><strong>Installing</strong></li>
<li><a href="./upgrading.html">Upgrading</a></li>
<li><a href="./using.html">Using Puppet Enterprise</a></li>
<li>The Accounts Module
<ul>
<li><a href="./accounts_user_type.html">The <code>accounts::user</code> Type</a></li>
<li><a href="./accounts_class.html">The <code>accounts</code> Class</a>
</li>
</ul></li>
<li>Puppet Compliance
<ul>
<li><a href="./compliance_basics.html">Puppet Compliance Basics and UI</a></li>
<li><a href="./using_compliance.html">Using the Puppet Compliance Workflow</a></li>
<li><a href="./compliance_tutorial.html">Compliance Workflow Tutorial</a></li>
</ul></li>
<li><a href="./known_issues.html">Known Issues</a></li>
<li><a href="./troubleshooting.html">Troubleshooting</a></li>
<li><a href="./answer_file_reference.html">Answer File Reference</a></li>
</ul>

<h1 id="installing-puppet-enterprise">Installing Puppet Enterprise</h1>

<p>Puppet Enterprise is the easiest way to install Puppet in a production-ready state &mdash; after some quick pre-install sanity checks, simply run the interactive installer and get started immediately.</p>

<h2 id="preparing-to-install">Preparing to Install</h2>

<p>Before installing Puppet Enterprise at your site, you should:</p>

<ul>
  <li>Decide in advance which server will fill the role of puppet master, and decide whether it will also run Puppet Dashboard. <strong>If you are splitting these two roles, you must perform some <a href="#configuring-a-stand-alone-dashboard-server">extra configuration</a> after installation.</strong></li>
  <li>Ensure that the puppet master server can be reached via domain name lookup by all of the future puppet agent nodes at the site.</li>
  <li>Optionally, add a CNAME record to your site&rsquo;s DNS configuration (or an alias in the relevant <code>/etc/hosts</code> files) to ensure that your puppet master can also be reached at the hostname <code>puppet</code> &mdash; since this is the default puppet master hostname, using it can simplify installation on your agent nodes. </li>
  <li>Configure your firewalls to allow network traffic on ports 8140 (for Puppet), 61613 (for MCollective&rsquo;s Stomp messages), and 3000 (for Puppet Dashboard).</li>
</ul>

<p>You should plan to install PE on the puppet master (and the Dashboard server, if you have chosen to separate the two) <strong>before</strong> installing on any agent nodes.</p>

<h2 id="choosing-your-installer-tarball">Choosing Your Installer Tarball</h2>

<p>Puppet Enterprise can be downloaded in tarballs specific to your OS and version, or as a universal tarball. Although the universal archive can be more convenient, it is roughly ten times the size of the version-specific archives.</p>

<table>
  <thead>
    <tr>
      <th>Filename ends with&hellip;</th>
      <th>Will install&hellip;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-all.tar</code></td>
      <td>anywhere</td>
    </tr>
    <tr>
      <td><code>-debian-&lt;version and arch&gt;.tar</code></td>
      <td>on Debian</td>
    </tr>
    <tr>
      <td><code>-el-&lt;version and arch&gt;.tar</code></td>
      <td>on RHEL, CentOS, Scientific Linux, or Oracle Enterprise Linux</td>
    </tr>
    <tr>
      <td><code>-sles-&lt;version and arch&gt;.tar</code></td>
      <td>on SUSE Linux Enterprise Server</td>
    </tr>
    <tr>
      <td><code>-solaris-&lt;version and arch&gt;.tar</code></td>
      <td>on Solaris</td>
    </tr>
    <tr>
      <td><code>-ubuntu-&lt;version and arch&gt;.tar</code></td>
      <td>on Ubuntu LTS</td>
    </tr>
  </tbody>
</table>

<h2 id="installing-pe">Installing PE</h2>

<p>To install PE, unarchive the tarball, navigate to the resulting directory, and run the <code>./puppet-enterprise-installer</code> script with root privileges in your shell; this will start the installer in interactive mode and guide you through the process of customizing your installation. After you&rsquo;ve finished, it will save your answers in a file called <code>answers.lastrun</code>, install the selected software, and configure and enable all of the necessary services. </p>

<p>The installer can also be run non-interactively; <a href="#non-interactive-installation">see below</a> for details.</p>

<h2 id="customizing-your-installation">Customizing Your Installation</h2>

<p>The PE installer configures Puppet by asking a series of questions. Most questions have a default answer (displayed in brackets), which you can accept by pressing enter without typing a replacement. For questions with a yes or no answer, the default answer is capitalized (e.g. &ldquo;<code>[y/N]</code>&rdquo;).</p>

<h3 id="roles">Roles</h3>

<p>First, the installer will ask which of PE&rsquo;s <a href="./overview.html#roles">three roles</a> (puppet master, Puppet Dashboard, and puppet agent) to install. The roles you apply will determine which other questions the installer will ask. </p>

<p>If you choose the puppet master or Puppet Dashboard roles, the puppet agent role will be installed automatically.</p>

<h3 id="puppet-master-options">Puppet Master Options</h3>

<h4 id="certname">Certname</h4>

<p>The puppet master&rsquo;s certname &mdash; its unique identifier &mdash; should always be its fully-qualified domain name. The installer will automatically detect this, but offers the chance to change it if necessary.</p>

<h4 id="certified-hostnames">Certified Hostnames</h4>

<p>The puppet master&rsquo;s certified hostnames should be a colon-separated list of every hostname (short and fully-qualified) you use to reach it. This list will be included in the master&rsquo;s SSL certificate, and agent nodes will refuse to connect to a puppet master unless the hostname at which they reached it is included in the certificate. </p>

<p>This list should at least include the master&rsquo;s fully-qualified domain name and its short hostname, but may also include aliases like <code>puppet</code> and <code>puppet.&lt;domain&gt;.com</code>. If you ensure that the hostname <code>puppet</code> resolves to your puppet master and is included in the master&rsquo;s certificate, you can use the default puppet master hostname when installing subsequent agent nodes. </p>

<h4 id="integration-with-puppet-dashboard">Integration with Puppet Dashboard</h4>

<p>The installer will ask if you wish to:</p>

<ul>
  <li>Send reports to Dashboard</li>
  <li>Use Dashboard as a node classifier</li>
  <li>Forward facts to Dashboard&rsquo;s inventory service </li>
</ul>

<p>(The latter question won&rsquo;t appear unless you chose not to install Dashboard on the same machine as the master; if they are running on the same machine, inventory viewing will be enabled by default.) <!-- TK todo for future: what happens w/ inventory search if you don't have reporting enabled and dashboard doesn't know about your nodes? --></p>

<p>For most users, we recommend doing all three. If you selected any of them, the installer will then ask for Dashboard&rsquo;s hostname and port. </p>

<h3 id="puppet-dashboard-options">Puppet Dashboard Options</h3>

<p>Puppet Dashboard is usually run on the same server as the puppet master, but can also be installed on a separate machine; <strong>if you choose to do so, you will need to do some <a href="#configuring-a-stand-alone-dashboard-server">additional configuration</a> after installing.</strong></p>

<h4 id="port">Port</h4>

<p>By default, Dashboard will run on port 3000. If the server you install it on is not running any other webserver instances, you may wish to use the standard HTTP port of 80 instead; if so, remember to <a href="#integration-with-puppet-dashboard">point puppet master to the correct port during installation</a>. If you need to change puppet&rsquo;s settings later, edit the <code>reporturl</code> setting  in <a href="/guides/configuring.markdown">puppet.conf</a> and the <code>BASE=</code> line in <code>/etc/puppetlabs/puppet-dashboard/external_node</code>. </p>

<h4 id="inventory-certnamecertified-hostnames">Inventory Certname/Certified Hostnames</h4>

<p>Dashboard will automatically use the puppet master&rsquo;s inventory service if you install it on the same server, but will have to maintain the inventory service<sup id="fnref:technically"><a href="#fn:technically" rel="footnote">1</a></sup> itself if you&rsquo;re installing it on a separate server.</p>

<p>Like puppet master, the inventory service needs a certname and a list of certified hostnames, which include the Dashboard server&rsquo;s short hostname and fully-qualified domain name. Unlike puppet master, its certified hostnames shouldn&rsquo;t include <code>puppet</code>. </p>

<p>Note that if you split Dashboard and master and wish to enable Dashboard&rsquo;s inventory and filebucket features, <strong>you will need to <a href="#configuring-a-stand-alone-dashboard-server">exchange certificates between Dashboard and the puppet master after installation</a>.</strong> </p>

<h4 id="mysql-server">MySQL Server</h4>

<p>Dashboard needs a MySQL server, user, and database to operate. If MySQL isn&rsquo;t already installed on Dashboard&rsquo;s server, the installer can automatically configure everything Dashboard needs; just confirm that you want to install a new database server, and answer the questions about: </p>

<ul>
  <li>MySQL&rsquo;s root user&rsquo;s password</li>
  <li>A name for Dashboard&rsquo;s database</li>
  <li>Dashboard&rsquo;s database user (default: &ldquo;dashboard&rdquo;)</li>
  <li>A password for Dashboard&rsquo;s user</li>
</ul>

<p>If you choose not to install a new database server, you&rsquo;ll need to have already created a database and MySQL user<sup id="fnref:createdb"><a href="#fn:createdb" rel="footnote">2</a></sup> for Dashboard prior to installation, and to have granted that user all privileges on the database. If the database server is on a remote machine, you&rsquo;ll also need to provide the installer with:</p>

<ul>
  <li>The database server&rsquo;s hostname</li>
  <li>The database server&rsquo;s port (default: 3306)</li>
</ul>

<h3 id="puppet-agent-options">Puppet Agent Options</h3>

<h4 id="unique-identifier-certname">Unique Identifier (&ldquo;Certname&rdquo;)</h4>

<p>Like the puppet master, each puppet agent node needs a unique identifier for its SSL certificate. Unlike the master, this doesn&rsquo;t have to be a valid hostname, and can be any unique string that identifies the node. </p>

<p>If domain names change frequently at your site or are otherwise unreliable, you may wish to investigate other schemes of node identification, such as UUIDs or hashes of some permanent firmware attribute.</p>

<h4 id="puppet-master-hostname">Puppet Master Hostname</h4>

<p>By default, puppet agent will attempt to connect to a puppet master server at the hostname <code>puppet</code>. If your puppet master isn&rsquo;t reachable at that hostname, you should override this.</p>

<h4 id="using-pluginsync">Using Pluginsync</h4>

<p>Puppet agent&rsquo;s pluginsync feature will download executable Ruby code (such as custom facts, types, and providers) from the puppet master. This should almost always be enabled, as Puppet Enterprise requires it to activate MCollective on agent nodes. </p>

<h3 id="development-libraries">Development Libraries</h3>

<p>As Puppet Enterprise maintains its own copy of Ruby and <code>gem</code>, you will need PE-specific copies of the Ruby development libraries if you intend to install any gems with native bindings. </p>

<p>Most users will not need to install the Ruby development libraries on any of their nodes. If you do not install the development libraries when installing Puppet Enterprise and find that you need them later, you can install them manually; see &ldquo;Configuring and Troubleshooting&rdquo; below. </p>

<h3 id="convenience-links">Convenience Links</h3>

<p>Puppet Enterprise installs the Puppet software and manpages into subdirectories of <code>/opt/puppet</code>, which aren&rsquo;t included in your system&rsquo;s default <code>$PATH</code> or <code>$MANPATH</code>. For ease of use, the installer can create symbolic links to the Puppet executables in <code>/usr/local/bin</code>. </p>

<h3 id="additional-packages">Additional Packages</h3>

<p>Puppet Enterprise requires certain software from your operating system vendor&rsquo;s package repositories. If any of this software isn&rsquo;t yet installed, the installer will list which packages (if any) are needed and offer to automatically install them. If you decline, the installer will exit so you can install the necessary packages manually. </p>

<h2 id="post-install-configuration">Post-install Configuration</h2>

<h3 id="signing-agent-certificates">Signing Agent Certificates</h3>

<p>When installing the puppet agent role on a new node, the installer will automatically submit a certificate request to the puppet master. Before the agent will be able to receive any configurations, a user will have to sign the certificate from the puppet master. To view the list of pending certificate signing requests, run:</p>

<pre><code>puppet cert list
</code></pre>

<p>To sign one of the pending requests, run:</p>

<pre><code>puppet cert sign &lt;name&gt;
</code></pre>

<h3 id="configuring-a-stand-alone-dashboard-server">Configuring a Stand-Alone Dashboard Server</h3>

<p>Most users should install Puppet Dashboard on the same server as the puppet master. However, if you need to split the two, you should install Dashboard <strong>after</strong> the puppet master, and do the following after installing both:</p>

<p><strong>On the Dashboard server:</strong></p>

<pre><code># cd /opt/puppet/share/puppet-dashboard
# export PATH=/opt/puppet/sbin:/opt/puppet/bin:$PATH
# rake RAILS_ENV=production cert:request
</code></pre>

<p><strong>On the puppet master server:</strong></p>

<pre><code># puppet cert sign dashboard
# puppet cert sign &lt;inventory service's certname&gt;
</code></pre>

<p><strong>On the Dashboard server (in the same shell as before, with the modified PATH):</strong></p>

<pre><code># rake RAILS_ENV=production cert:retrieve
# receive_signed_cert.rb &lt;inventory service's certname&gt; &lt;puppet master's hostname&gt;
# service pe-httpd start
</code></pre>

<h2 id="advanced-installation">Advanced Installation</h2>

<h3 id="installer-options">Installer Options</h3>

<p>The Puppet Enterprise installer will accept the following command-line flags:</p>

<ul>
  <li><code>-a ANSWER_FILE</code> &ndash; Read answers from file and quit with error if an answer is missing.</li>
  <li><code>-A ANSWER_FILE</code> &ndash; Read answers from file and prompt for input if an answer is missing.</li>
  <li><code>-D</code> &ndash; Display debugging information.</li>
  <li><code>-h</code> &ndash; Display a brief help message.</li>
  <li><code>-l LOG_FILE</code> &ndash; Log commands and results to file.</li>
  <li><code>-n</code> &ndash; Run in &lsquo;noop&rsquo; mode; show commands that would have been run during installation without running them.</li>
  <li><code>-s ANSWER_FILE</code> &ndash; Save answers to file and quit without installing.</li>
</ul>

<h3 id="non-interactive-installation">Non-interactive Installation</h3>

<p>To streamline your deployment, the Puppet Enterprise installer can run non-interactively. When run with the <code>-a</code> or <code>-A</code> flags, the installer will load an answer file specified by the user. </p>

<p>Answer files are simply shell scripts; they set a number of predefined variables and are sourced by the installer at runtime. Although static answer files are easily generated by running the installer with the <code>-s ANSWER_FILE</code> option (or by retrieving the <code>answers.lastrun</code> file from a previous installation), they can also be constructed by hand or with other tools, and can contain arbitrary shell code. This feature of the installer can be used to, for example, automate the generation of puppet agent certnames for sites that do not identify nodes by FQDN. </p>

<p>Further details and a full description of the available variables can be found in the <a href="./answer_file_reference.html">answer file reference</a>. </p>

<div class="footnotes">
  <ol>
    <li id="fn:technically">
      <p>Under the hood, this is a private instance of puppet master that doesn&rsquo;t serve catalogs to agent nodes. <a href="#fnref:technically" rev="footnote">&#8617;</a></p>
    </li>
    <li id="fn:createdb">
      <p>The SQL commands to do so will likely resemble the following: <br /><br /><code>CREATE DATABASE dashboard CHARACTER SET utf8;</code><br /><code>CREATE USER 'dashboard'@'localhost' IDENTIFIED BY 'password';</code><br /><code>GRANT ALL PRIVILEGES ON dashboard.* TO 'dashboard'@'localhost';</code><a href="#fnref:createdb" rev="footnote">&#8617;</a></p>
    </li>
  </ol>
</div>

            </div>
            <div class="secondary-content">
                  <div id="subCol">
                  
                  
                      <h3 class="chapter">Contents</h3>
                      
<ol class="toc">
  <li class="toc-lv2"><a href="#preparing-to-install">Preparing to Install</a></li>
  <li class="toc-lv2"><a href="#choosing-your-installer-tarball">Choosing Your Installer Tarball</a></li>
  <li class="toc-lv2"><a href="#installing-pe">Installing PE</a></li>
  <li class="toc-lv2"><a href="#customizing-your-installation">Customizing Your Installation</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#roles">Roles</a></li>
   <li class="toc-lv3"><a href="#puppet-master-options">Puppet Master Options</a></li>
   <li class="toc-lv3"><a href="#puppet-dashboard-options">Puppet Dashboard Options</a></li>
   <li class="toc-lv3"><a href="#puppet-agent-options">Puppet Agent Options</a></li>
   <li class="toc-lv3"><a href="#development-libraries">Development Libraries</a></li>
   <li class="toc-lv3"><a href="#convenience-links">Convenience Links</a></li>
   <li class="toc-lv3"><a href="#additional-packages">Additional Packages</a></li>
</ol></li>
  <li class="toc-lv2"><a href="#post-install-configuration">Post-install Configuration</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#signing-agent-certificates">Signing Agent Certificates</a></li>
   <li class="toc-lv3"><a href="#configuring-a-stand-alone-dashboard-server">Configuring a Stand-Alone Dashboard Server</a></li>
</ol></li>
  <li class="toc-lv2"><a href="#advanced-installation">Advanced Installation</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#installer-options">Installer Options</a></li>
   <li class="toc-lv3"><a href="#non-interactive-installation">Non-interactive Installation</a></li>
</ol></li>
</ol>
                  
                                        <!-- New Ads are inserted here -->
		  			<div id="bannerImage" style="display:block;">&nbsp;</div>
		  			<!-- Remove me on September 24 --><a href="http://bit.ly/puppetconf"><img src="http://www.puppetlabs.com/wp-content/uploads/2011/07/120x600_puppetconf.png" style="display:block; margin-left: auto; margin-right: auto;"></a>
                  </div>
            </div>
          </div>
        </div>
      </section>

		<footer id="footer">
      <div class="site-width">

        <div class="primary-secondary-content">
          <div class="primary-content">
            <section id="newsletter">
                 <h4>Puppet Labs is Hiring</h4>
                 <p><a href="http://www.puppetlabs.com/company/jobs/">Engineers, developers & consultants</a>
                  <p>  
		<h4>Newsletter</h4>

              <p>Stay up to date on all things puppet</p>
              
				<form class="lpeRegForm formNotEmpty" method="post" enctype="application/x-www-form-urlencoded" action="http://info.puppetlabs.com/index.php/leadCapture/save"; id="mktForm_1013" name="mktForm_1013">
				
				<label>Email Address:</label><span class='mktInput'><input class='mktFormText mktFormEmail' name="Email" id="Email" type='text' value="" maxlength='255'  /><span class='mktFormMsg'></span></span>
				
				<input id='mktFrmSubmit' type='submit' class='btn' style="width: auto; overflow: visible; padding-left: .25em; padding-right: .25em;" value='Subscribe' name='submitButton' onclick='formSubmit(document.getElementById("mktForm_1013")); return false;' />
				
				<input style='display: none;' id='mktFrmReset' type='reset' value='Clear' name='resetButton' onclick='formReset(document.getElementById("mktForm_1013")); return false;' />
	
				<span style="display:none;"><input type="text" name="_marketo_comments" value="" /></span>
				<input type="hidden" name="lpId" value="-1" />
				<input type="hidden" name="subId" value="100" />

				<input type="hidden" name="kw" value="" />
				<input type="hidden" name="cr" value="" />
				
				<input type="hidden" name="searchstr" value="" />
				<input type="hidden" name="lpurl" value="http://info.puppetlabs.com/testsubscription.html?cr={creative}&kw={keyword}"; />
				<input type="hidden" name="formid" value="1013" />
				<input type="hidden" name="returnURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/"; />
				<input type="hidden" name="retURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/"; />
				<input type="hidden" name="_mkt_disp" value="return" />
				<input type="hidden" name="_mkt_trk" value="" />

				</form>
				<script type="text/javascript" src="http://info.puppetlabs.com/js/mktFormSupport.js"></script>
				
				<script type="text/javascript">
				function formSubmit(elt) {
				return Mkto.formSubmit(elt);
				}
				function formReset(elt) {
				return Mkto.formReset(elt);
				}
				</script>
              
<a href="http://info.puppetlabs.com/puppet-enterprise" class="fbtn">Try Puppet Enterprise FREE</a>

            </section>
            <section id="elsewhere">
              <h4>Get Involved</h4>
              <ul>

                <li class="chat"><a href="http://webchat.freenode.net/?channels=puppet" rel="external"><span class="indicator"></span><span>Chat with us on IRC</span></a></li>
		<li class="discussion"><a href="http://groups.google.com/group/puppet-dev" rel="external"><span class="indicator"></span><span>Join the Puppet Developer List</span></a></li>
                <li class="discussion"><a href="http://groups.google.com/group/puppet-users?pli=1" rel="external"><span class="indicator"></span><span>Join the Puppet User List</span></a></li>
                
                <li class="linkedin"><a href="http://www.linkedin.com/groups?about=&gid=696467&trk=anet_ug_grppro" rel="external"><span class="indicator"></span><span>Join the Puppet Users LinkedIn group</span></a></li>	

              </ul>
		<p>
		              		<h4>Follow us&#8230;</h4>

              		<ul class="followus">

					
			<li><a href="http://feeds.feedburner.com/PuppetLabs" target="_blank"><img src="http://www.puppetlabs.com/wp-content/plugins/my-profiles/images/rss.png" border="0"></a></li>
			<li><a href="http://www.facebook.com/pages/Puppet-Labs/219089920711" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/facebook.png" border="0"></a></li>
			<li><a href="http://www.twitter.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/twitter.png" border="0"></a></li>
			<li><a href="http://www.linkedin.com/groups?about=&amp;gid=696467&amp;trk=anet_ug_grppro" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/LinkedIn_IN_Icon_32px.png" border="0"></a></li>    <li><a href="https://github.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/github_icon.png" border="0"></a></li>
					</ul>

              	</p>

            </section>
          </div>
          <div class="secondary-content">
            <section id="book-it">
              <h4>Get the book!</h4>

              <p>Written by James Turnbull and Jeff McCune, <a href="http://www.apress.com/9781430230571" rel="nofollow">Pro Puppet</a> is a comprehensive and up-to-date look at Puppet and MCollective. </p>
              <a href="http://www.apress.com/9781430230571" rel="nofollow"><img src="http://www.puppetlabs.com/wp-content/uploads/2011/05/propuppetthumb.png" /></a>
            </section>
          </div>
        </div>
      </div>
		</footer>

    <div id="copyright">
      <div class="site-width">
        &copy; 2011 <a href="http://www.puppetlabs.com/" title="Puppet Labs">Puppet Labs</a>
        <span class="vcard">
         <span class="org"></span>
         <a class="email" href="mailto:info@puppetlabs.com">info@puppetlabs.com</a>

          <span class="adr">
           <span class="street-address">411 NW Park Avenue</span>
           /
           <span class="locality">Portland</span>, 
           <span class="region">OR</span>
           <span class="postal-code">97209</span>

          </span>

         <span class="tel">1-877-575-9775</span>
        </span>          
      </div>
    </div>
    <script src="http://munchkin.marketo.net/munchkin.js" type="text/javascript"></script> <script>mktoMunchkin("307-QLA-991");</script> 
    
  	<script type="text/javascript">Cufon.now();</script>
  	<style type="text/css">h1, h2, .btn { visibility : visible; }</style>

	</body>
</html>        
